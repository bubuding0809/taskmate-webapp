import React, { useRef, useEffect, useState } from "react";
import { type NextPage } from "next";
import Head from "next/head";
import { signIn, signOut, useSession } from "next-auth/react";
import { animated } from "@react-spring/web";
import { Parallax, ParallaxLayer } from "@react-spring/parallax";
import { ClassNames } from "@emotion/react";
import { positions } from "@mui/system";

import {
  BsFacebook,
  BsInstagram,
  BsTwitter,
  BsGithub,
  BsToggleOn,
  BsToggleOff,
} from "react-icons/bs";
import { FiChevronLeft, FiChevronRight } from "react-icons/fi";
import { cpuUsage } from "process";
import { Preview } from "@mui/icons-material";

// TO BE DONE BY: Jansonn
// This is the landing page for the app. It should be the first page that the user sees when they visit the site.
// The page can be accessed at http://localhost:3000/landing
const navigation = [
    { name: "About Us", href: "#aboutus" },
    { name: "Features", href: "#features" },
    { name: "Contact", href: "#contacts" },
    { name: "Log In", href: "/auth/signin" },
  ],
  social = [
    {
      name: "Facebook",
      href: "https://www.facebook.com/profile.php?id=100090745762601",
      icon: <BsFacebook />,
    },
    {
      name: "Instagram",
      href: "https://instagram.com/hello.taskmate?igshid=YmMyMTA2M2Y=",
      icon: <BsInstagram />,
    },
    {
      name: "Twitter",
      href: "https://twitter.com/hello_taskmate?s=11&t=F6-j-o7xmaTvCe3F-h3PrQ",
      icon: <BsTwitter />,
    },
    {
      name: "GitHub",
      href: "https://www.github.com/",
      icon: <BsGithub />,
    },
  ],
  people = [
    {
      name: "Ding Ruoqian",
      role: "Software Architect",
      image: "./images/ding.jpg",
    },
    {
      name: "Jansonn Lim",
      role: "Frontend Developer",
      image: "./images/jansonn.jpg",
    },
    {
      name: "Chua Chen yu",
      role: "Frontend Developer",
      image: "./images/chenyu.jpg",
    },
    {
      name: "Amri Bin Mohd Sazali",
      role: "Project Manager , Backend Developer",
      image: "./images/Amri.jpg",
    },
    {
      name: "Chua Jin Tian",
      role: "UI/UX Designer , Frontend Developer",
      image: "./images/jake.jpg",
    },
  ],
  features = [
    {
      id: 1,
      header: "Track Your Task Easily",
      description:
        "Manage any type of project with our powerful task management system.",
      description2: "Create, assign, and track tasks with ease.",
      image: "./images/calendar.jpg",
    },
    {
      id: 2,
      header: "Collaborate With Your Team",
      description: "Work together with your team to complete projects faster.",
      description2: "Share files, chat, and more.",
      image: "./images/kanban.jpg",
    },
    {
      id: 3,
      header: "Stay Organized",
      description: "Stay organized with our powerful task management system.",
      description2: "Create, assign, and track tasks with ease.",
      image: "./images/planning.jpg",
    },
    {
      id: 4,
      header: "Ideal Workspace",
      description:
        "Build your very own workspace with our powerful task management system. ",
      description2: "Create, assign, and track tasks with ease.",
      image: "./images/teamplan.jpg",
    },
  ];

const LandingPage: NextPage = () => {
  const cardRef1 = useRef<HTMLDivElement>(null);
  const cardRef2 = useRef<HTMLDivElement>(null);
  const cardRef3 = useRef<HTMLDivElement>(null);
  const cardRef4 = useRef<HTMLDivElement>(null);

  const [currCard, setCurrCard] = useState(0);

  useEffect(() => {
    const cardRef = [cardRef1, cardRef2, cardRef3, cardRef4];
    cardRef[currCard]!.current?.scrollIntoView({
      behavior: "smooth",
      block: "nearest",
      inline: "center",
    });
  }, [currCard]);

  const home = useRef<HTMLDivElement>(null);
  const aboutus = useRef<HTMLDivElement>(null);
  const features = useRef<HTMLDivElement>(null);
  const contacts = useRef<HTMLDivElement>(null);

  const [currSection, setCurrSection] = useState(0);

  useEffect(() => {
    const sectionRef = [home, aboutus, features, contacts];
    sectionRef[currSection]!.current?.scrollIntoView({
      behavior: "smooth",
    });
  }, [currSection]);

  return (
    <>
      <Head>
        <title>Taskmate</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      {/* navbar */}

      <div className="bg-white">
        <nav className="sticky top-0 flex bg-black">
          <div>
            <img
              className="hidden aspect-auto h-16 md:flex md:w-36 "
              src="./images/TaskMate.png"
              alt="logo"
            />
          </div>
          <div>
            <img
              className="flex h-16 justify-center md:hidden md:w-36 "
              src="./images/Tmlogo.png"
              alt="logo"
            />
          </div>
          <div className="my-5 ml-auto mr-10 space-x-8 text-right">
            {navigation.map((item) => (
              <a
                key={item.name}
                href={item.href}
                className="flex-row scroll-smooth text-xs font-medium text-white hover:text-[#B97E7E] md:text-base"
              >
                {item.name}
              </a>
            ))}
          </div>
        </nav>

        {/* hero section */}
        <div
          ref={home}
          className="mx-auto max-w-7xl animate-fade py-24 px-6 sm:py-32 lg:px-8"
        >
          <h2 className="text-center text-6xl font-bold tracking-tight text-[#595e64] sm:text-8xl">
            New Generation
            <br />
            <span className="text-[#CEAAAA]">Task Manager</span>
          </h2>
          <br />
          <div className="ml-2">
            <span className="flex justify-center text-center text-2xl text-[#000000] sm:text-3xl">
              The New All-In-One Project Management
            </span>
            <span className="flex justify-center text-2xl text-black sm:text-3xl">
              Catered For Your Team
            </span>
          </div>

          <div className="mt-10 flex items-center justify-center gap-x-3">
            <a
              href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
              className="rounded-md bg-[#BD9999] px-3.5 py-2.5 text-2xl text-white shadow-sm  hover:bg-[#b17e7e]"
            >
              Try Now
            </a>
            <a
              href="#"
              className="rounded-md bg-[#D9D9D9] px-3.5 py-2.5 text-2xl text-black shadow-sm hover:bg-[#c6c3c3]"
            >
              Live Demo
            </a>
          </div>
        </div>

        {/* features */}
        <div id="features" ref={features} className="pt-10">
          <div className="group mb-8 flex snap-x snap-mandatory items-center gap-52 overflow-x-scroll scroll-smooth py-10 px-5 scrollbar-none md:pl-36 ">
            <button
              className="invisible absolute left-2 p-2 text-2xl opacity-0 group-hover:opacity-100 sm:visible"
              onClick={() => setCurrCard((prev) => (prev > 0 ? prev - 1 : 0))}
            >
              <FiChevronLeft />
            </button>

            <div
              ref={cardRef1}
              className="w-5/5 ml-8 flex h-40 flex-none snap-end items-center rounded-lg bg-[#f8efef] px-5 shadow-md md:mr-72 md:ml-32 md:h-96 md:w-4/6 md:py-4"
            >
              <div>
                <img
                  className="hidden md:mt-8 lg:flex lg:w-52"
                  src="./images/calendar.jpg"
                  alt="calendar"
                />
              </div>
              <div className="md:mt-10 md:ml-5">
                <h1 className="text-3xl font-bold tracking-tight md:text-5xl">
                  <span className="block text-[#595e64]">
                    Track Your Task Easily
                  </span>
                </h1>
                <div className="mt-3 ml-2 text-[#CDAAAA] md:text-xl">
                  <p>Manage any type of project more efficiently.</p>
                  <p>No separate, clunky system</p>
                </div>
              </div>
            </div>

            <div
              ref={cardRef2}
              className="w-5/5 flex h-40 flex-none snap-center items-center rounded-lg bg-[#f8efef] px-5 shadow-md md:mr-24  md:h-96 md:w-4/6 md:py-4"
            >
              <div className="pl-3 md:ml-5">
                <h1 className="text-3xl font-bold tracking-tight md:text-5xl">
                  <span className="block text-[#595e64]">
                    Fully Customisable
                  </span>
                </h1>
                <div className="mt-2 text-[#CDAAAA] md:text-xl">
                  <p>Create your own labels, tags, owners, and more, </p>
                  <p>where everyone has context.</p>
                  <p>Everything stays organized.</p>
                </div>
              </div>
              <div className="mt-2 hidden pl-4 lg:flex lg:w-56">
                <img src="./images/kanban.jpg" />
              </div>
            </div>

            <div
              ref={cardRef3}
              className="flex h-40 w-4/5 flex-none snap-center items-center rounded-lg bg-[#f8efef] px-5 shadow-md  md:h-96 md:w-4/6 md:py-4"
            >
              <div className="hidden lg:flex lg:w-64">
                <img src="./images/planning.jpg" />
              </div>
              <div className="md:ml-10">
                <h1 className="text-3xl font-bold tracking-tight md:text-5xl">
                  <span className="block text-[#595e64]">Plan accordingly</span>
                </h1>
                <div className="mt-1 text-[#CDAAAA] md:mt-5 md:text-xl">
                  <p>Work With Team</p>
                  <p>With No Communication</p>
                </div>
              </div>
            </div>

            <div
              ref={cardRef4}
              className="mr-60 flex h-40 w-4/5 flex-none snap-center items-center rounded-lg bg-[#f8efef] px-5 shadow-md md:ml-28 md:h-96 md:w-4/6 md:py-4"
            >
              <div className="md:mr-10 md:ml-10 md:mt-8">
                <h1 className="text-3xl font-bold tracking-tight md:text-5xl">
                  <span className="block text-[#595e64]">Ideal Workspace</span>
                </h1>
                <div className="mt-2 text-[#CDAAAA] md:text-xl">
                  <p>Build custom roadmaps and Gantt charts </p>
                  <p>so you monitor everything from the start.</p>
                </div>
              </div>
              <div className="hidden md:flex md:pl-4">
                <img src="./images/teamplan.jpg" className="w-64" />
              </div>
            </div>

            <button
              className="invisible absolute right-2 p-2 text-2xl opacity-0 group-hover:opacity-100 sm:visible"
              onClick={() => setCurrCard((prev) => (prev < 3 ? prev + 1 : 3))}
            >
              <FiChevronRight />
            </button>
          </div>
        </div>

        {/* About Us */}
        <div id="aboutus" ref={aboutus} className="bg-white py-24 sm:py-32">
          <div className="mx-auto max-w-7xl px-6 text-center lg:px-8">
            <div className="mx-auto max-w-2xl">
              <h2 className="text-3xl font-bold tracking-tight text-black sm:text-4xl">
                Meet our team
              </h2>
              <p className="mt-4 text-lg leading-8 text-gray-400">
                We are a dynamic group of individuals who are passionate about
                what we do.
              </p>
            </div>
            <ul
              role="list"
              className="mx-auto mt-20 grid max-w-2xl grid-flow-row grid-cols-1 gap-6 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3 lg:gap-8"
            >
              {people.map((person) => (
                <li
                  key={person.name}
                  className="rounded-2xl bg-[#F8EFEF] py-10 px-8"
                >
                  <img
                    className="mx-auto h-52 w-52 rounded-full bg-green-50 object-cover"
                    src={person.image}
                    alt=""
                  />
                  <h3 className="mt-6 text-base font-semibold leading-7 tracking-tight text-[#595e64]">
                    {person.name}
                  </h3>
                  <p className="text-sm leading-6 text-gray-400">
                    {person.role}
                  </p>
                </li>
              ))}
            </ul>
          </div>
        </div>
        {/* Contact Us */}

        <div id="contacts" ref={contacts} className="bg-[#F8EFEF] py-5">
          {/* <div className="mx-auto max-w-7xl px-6 text-start lg:px-8">
            <div className="mx-auto max-w-2xl">
              <h2 className="text-center text-3xl font-bold tracking-tight text-black sm:text-4xl">
                Contact Us
              </h2>
            </div>
            <div className="mx-auto mt-10 max-w-2xl">
              <form className="grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8">
                <div>
                  <label
                    htmlFor="first-name"
                    className="block text-sm font-medium text-gray-700"
                  >
                    First name
                  </label>
                  <div className="mt-1">
                    <input
                      type="text"
                      name="first-name"
                      id="first-name"
                      autoComplete="given-name"
                      className="block w-52 rounded-md border-gray-300 shadow-sm focus:border-[#B97E7E] focus:ring-[#B97E7E] sm:text-lg"
                    />
                  </div>
                </div>
                <div>
                  <label
                    htmlFor="last-name"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Last name
                  </label>
                  <div className="mt-1">
                    <input
                      type="text"
                      name="last-name"
                      id="last-name"
                      autoComplete="family-name"
                      className="block w-52 rounded-md border border-gray-300 shadow-sm focus:border-[#B97E7E] focus:ring-[#B97E7E] sm:text-lg"
                    />
                  </div>
                </div>
                <div className="sm:col-span-2">
                  <label
                    htmlFor="email"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Email
                  </label>
                  <div className="mt-1">
                    <input
                      id="email"
                      name="email"
                      type="email"
                      autoComplete="email"
                      className="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#B97E7E] focus:ring-[#B97E7E] sm:text-lg"
                    />
                  </div>
                </div>

                <div className="sm:col-span-2">
                  <label
                    htmlFor="message"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Message
                  </label>
                  <div className="mt-1">
                    <textarea
                      id="message"
                      name="message"
                      rows={4}
                      className="block w-full rounded-md border-gray-300 shadow-sm sm:text-sm"
                      defaultValue={""}
                    />
                  </div>
                </div>
                <div className="sm:col-span-2">
                  <button
                    type="submit"
                    className="inline-flex w-full justify-center rounded-md border border-transparent bg-[#BD9999] py-3 px-6 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-[#B97E7E] focus:ring-offset-2 hover:bg-[#b17e7e]"
                  >
                    Submit
                  </button>
                </div>
              </form>
            </div>
          </div> */}
          <div className="mx-auto max-w-7xl  text-start">
            <div className="mx-auto max-w-2xl">
              <h2 className="text-center text-3xl font-bold tracking-tight text-black sm:text-4xl">
                Contact Us
              </h2>
            </div>
          </div>

          <form
            action="#"
            method="POST"
            className="mx-auto mt-16 max-w-xl px-2 sm:mt-20"
          >
            <div className="grid grid-cols-1 gap-y-6 gap-x-8 sm:grid-cols-2">
              <div>
                <label
                  htmlFor="first-name"
                  className="block text-sm font-semibold leading-6 text-gray-900"
                >
                  First name
                </label>
                <div className="mt-2.5">
                  <input
                    type="text"
                    name="first-name"
                    id="first-name"
                    autoComplete="given-name"
                    className="block w-full rounded-md border-0 py-2 px-3.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                  />
                </div>
              </div>
              <div>
                <label
                  htmlFor="last-name"
                  className="block text-sm font-semibold leading-6 text-gray-900"
                >
                  Last name
                </label>
                <div className="mt-2.5">
                  <input
                    type="text"
                    name="last-name"
                    id="last-name"
                    autoComplete="family-name"
                    className="block w-full rounded-md border-0 py-2 px-3.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                  />
                </div>
              </div>

              <div className="sm:col-span-2">
                <label
                  htmlFor="email"
                  className="block text-sm font-semibold leading-6 text-gray-900"
                >
                  Email
                </label>
                <div className="mt-2.5">
                  <input
                    type="email"
                    name="email"
                    id="email"
                    autoComplete="email"
                    className="block w-full rounded-md border-0 py-2 px-3.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                  />
                </div>
              </div>

              <div className="sm:col-span-2">
                <label
                  htmlFor="phone-number"
                  className="block text-sm font-semibold leading-6 text-gray-900"
                >
                  Phone number
                </label>
                <div className="mt-2.5">
                  <input
                    type="tel"
                    name="phone-number"
                    id="phone-number"
                    autoComplete="tel"
                    className="block w-full rounded-md border-0 py-2 px-3.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                  />
                </div>
              </div>

              <div className="sm:col-span-2">
                <label
                  htmlFor="message"
                  className="block text-sm font-semibold leading-6 text-gray-900"
                >
                  Message
                </label>
                <div className="mt-2.5">
                  <textarea
                    name="message"
                    id="message"
                    rows={4}
                    className="block w-full rounded-md border-0 py-2 px-3.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                    defaultValue={""}
                  />
                </div>
              </div>
            </div>
            <div className="mt-10">
              <button
                type="submit"
                className="block w-full rounded-md bg-[#bd9999] px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 hover:bg-[#b17e7e]"
              >
                Submit
              </button>
            </div>
          </form>
        </div>

        {/* footer */}
        <footer>
          <div className="mx-auto max-w-7xl py-12 px-6 md:flex md:items-center md:justify-between lg:px-8">
            <div className="flex justify-center space-x-6 md:order-2">
              {social.map((item) => (
                <a
                  key={item.name}
                  href={item.href}
                  className="text-2xl text-gray-500 hover:text-[#B97E7E]"
                >
                  <span>{item.icon}</span>
                </a>
              ))}
            </div>
            <div className="order-1 mt-8 md:mt-0">
              <p className="text-center text-sm text-gray-500">
                &copy; 2023 TaskMate, Inc. All rights reserved.
              </p>
            </div>
          </div>
        </footer>
      </div>
    </>
  );
};

export default LandingPage;
